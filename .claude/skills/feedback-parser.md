# Client Feedback Parser Skill

## Purpose
精確解析案主反饋，自動識別需求類型，防止誤解需求導致做錯。

## Auto-Activation

觸發條件：
- 讀取 GitHub Issue 內容時
- 案主留言新的反饋時
- 開始 PDCA Plan 階段時

---

## Parsing Workflow

### Step 1: 提取關鍵動詞

識別行動詞：
- **新增/添加/加** → 新功能開發（需要 Create 操作）
- **修改/改成/調整** → 修改現有功能
- **刪除/移除/去掉** → 刪除功能
- **顯示/呈現/show** → 資料顯示
- **隱藏/不顯示** → 隱藏元素

### Step 2: 提取關鍵名詞

識別對象：
- **功能** → 功能問題
- **樣式/底色/框線/顏色** → UI 問題
- **資料/數據/篩選** → 資料問題
- **按鈕/輸入框/下拉選單** → UI 元件

### Step 3: 組合分析

**範例 1**：
> "新增例句功能，可以讓 user 加例句"

解析：
- 動詞：**新增**（Create）、**讓 user 加**（User-generated content）
- 名詞：**例句功能**
- **需求類型**：功能問題（CRUD 操作）
- **具體需求**：
  - 用戶可以新增例句 ✅
  - 顯示既有例句 ✅
  - 可能需要編輯/刪除例句 ❓（需要詢問）

**範例 2**：
> "課次的底色和框線請與左邊冊次一致"

解析：
- 動詞：**與...一致**（樣式對齊）
- 名詞：**底色**、**框線**、**課次**、**冊次**
- **需求類型**：UI 問題（樣式修改）
- **具體需求**：
  - 課次按鈕樣式 = 冊次按鈕樣式
  - 需要截圖對比

**範例 3**：
> "國中、高中的資料混在一起"

解析：
- 動詞：**混在一起**（分離問題）
- 名詞：**國中資料**、**高中資料**
- **需求類型**：資料問題（過濾邏輯）
- **具體需求**：
  - 國中 ≠ 高中（嚴格分離）
  - 需要 data-diagnosis
  - 可能有無分類的資料 ❓（需要詢問）

### Step 4: 生成需求確認清單

自動生成：

```markdown
## 需求確認清單（自動生成）

### 需求類型
[功能問題 / UI問題 / 資料問題]

### 涉及範圍
檔案：[列出相關檔案]
元件：[列出元件]

### 預期行為（從反饋提取）
1. [行為 1]
2. [行為 2]
3. [行為 3]

### 不確定項（需要詢問案主）
- [ ] 問題 1: [具體問題]
- [ ] 問題 2: [具體問題]

### 驗證方式
[對應 Issue 類型的驗證清單]
```

### Step 5: 決定是否詢問案主

**如果有「不確定項」** → 執行 requirements-clarification skill

**如果需求清晰** → 直接進入 PDCA Plan

---

## Integration

在 git-issue-pr-flow Phase 1 (PDCA Plan) 開始時：

```
1. 讀取 Issue
2. 執行 feedback-parser skill
3. 如果有不確定項 → requirements-clarification
4. 如果需求清晰 → 繼續 5 Whys 分析
```

---

**Version**: v1.0
**Created**: 2025-12-31
**Related**: Issue #26, #27 誤解需求
